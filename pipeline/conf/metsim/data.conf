projectId = metsim
regionsExclude = "/humgen/diabetes2/users/ryank/pipeline/regions_exclude/regions.exclude" // a list of regions to exclude from QC
kgPurcellVcf = "/humgen/diabetes2/users/ryank/data/1kg_phase3/1000GP_Phase3_vcf_purcell5k/ALL.purcell5k.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes.vcf.gz"
kgSample = "/humgen/diabetes2/users/ryank/data/1kg_phase3/1000GP_Phase3/1000GP_Phase3.sample"
regionsExcludeGoogle = "gs://loamstream/input/regions.exclude" // a list of regions to exclude from QC
kgPurcellVcfGoogle = "gs://loamstream/input/ALL.purcell5k.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes.vcf.gz"
kgSampleGoogle = "gs://loamstream/input/1000GP_Phase3.sample"
kgSampleId = ID // column name for sample ID kgSample file
kgSamplePop = POP // column name for POP ("micro-population") in kgSample file
kgSampleGroup = GROUP // column name for GROUP ("macro-population") in kgSample file
kgVcfBaseWild = "/humgen/diabetes2/users/ryank/data/1kg_phase3/1000GP_Phase3_vcf/ALL.chr[CHROMOSOME].phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes" // 1KG VCF base name (excluding .vcf.gz) - [CHROMOSOME] is later replaced by the chromosome number
kgLegendWild = "/humgen/diabetes2/users/ryank/data/1kg_phase3/1000GP_Phase3/1000GP_Phase3_chr[CHROMOSOME].legend.gz"
humanReferenceWild = "/humgen/diabetes/users/mvg/portal/scripts/reference/[CHROMOSOME].txt"
genePositions = "/home/unix/flannick/links/t2d_exomes/out/projects/marathon/marathon.closest.gene"
pheno = "/humgen/diabetes2/users/ryank/data/metsim/loamstream/pheno/METSIM.pheno.master.tsv" // phenotype filename
phenoId = ID // column name for sample ID in pheno
phenoSrSex = SEX // column name for self reported sex in pheno
phenoSrRace = RACE // column name for self reported race in pheno
phenoStatus = T2D_UNKNOWN // column name for case/control status of main phenotype
qcReportAuthors = [Ryan Koesterer]
analysisReportAuthors = [Ryan Koesterer,Maria Costanzo]
analysisReportAcknowledgements = [Ryan Koesterer,Maria Costanzo,Lizz Caulkins,Noel Burtt,Jason Flannick,Miriam Udler,Alisa Manning,Jose Florez]
biomartServer = "http://grch37.ensembl.org/biomart"

arrays = [
  {
    arrayId = ex
    dataPath = "/humgen/diabetes/users/mvg/portal/aspera/SN0110625/metsim_exomechip_portal" // path to dataset (full filename or Plink binary prefix)
    dataType = bfile // bfile or vcf
  }
  {
    arrayId = omni
    dataPath = "/humgen/diabetes/users/mvg/portal/aspera/SN0110625/metsim_omniexpress_portal" // path to dataset (full filename or Plink binary prefix)
    dataType = bfile // bfile or vcf
  }
]

// phases: a list of phases of analysis
// strat: a strategy code: 1+2<-3 means that 1 and 2 will first be meta-analyzed and then 3 will be merged into the meta analysis results on non-overlapping variants
// phenotypes: list of phenotypes
// phenoName:
// phenoLongName:
// trans: a transformation to apply to the phenotype: invn:Age+Sex = rank based inverse normalization of Age and Sex adjusted residuals; log = log transform
// tests: a list of tests: firth, wald, lrt, score, lm, or lmm
// covars: a list of covariate combinations: "" indicates no covariates; "Age+Sex" indicates Age and Sex as covariates (PCs are automatically included if significant)
// ancestryKeep:
// knownLoci: list of known loci tables for this phenotype
//
// each test / covariate combination is performed on the transformed phenotype (if trans is not empty) 

phases = [
  {
    strat = "ex<-omni"
    phenotypes = [
      { // phenotype 1
        phenoName = T2D_UNKNOWN
        phenoLongName = "Type 2 Diabetes"
        trans = ""
        tests = [firth]
        covars = ["","Age","Age+BMI"]
        ancestryKeep = EUR
        knownLoci = [
          {
            test = firth
            covars = "Age"
            data = /humgen/diabetes2/users/ryank/pipeline/known_associations/loamstream/t2d/DIAGRAMv3.2016MAY31/gwas_loci.genes.tsv
            hiLd = /humgen/diabetes2/users/ryank/pipeline/known_associations/loamstream/t2d/DIAGRAMv3.2016MAY31/gwas_loci.EUR.hild.expanded
            varId = id
            effectAllele = effect_allele
            otherAllele = other_allele
            or = or
            pVal = p
            pop = EUR
            n = 149821
            nCase = 34840
            nCtrl = 114981
            desc = "2012 Nature Genetics paper by Morris et al"
            tag = Morris2012
            citation = "Morris A, et al. Large-scale association analysis provides insights into the genetic architecture and pathophysiology of type 2 diabetes. Nat Genet. 2012 Sep; 44(9): 981-990. Published online 2012 Aug 12. doi: 10.1038/ng.2383"
          }
        ]
      }
      {
        phenoName = GLU_FAST
        phenoLongName = "Fasting Glucose"
        trans = "invn"
        tests = [lm]
        covars = ["Age","Age+BMI"]
        ancestryKeep = EUR
        knownLoci = [
          {
            test = lm
            covars = "Age"
            data = /humgen/diabetes2/users/ryank/pipeline/known_associations/loamstream/fasting_glucose/MAGIC/gwas_loci.genes.tsv
            hiLd = /humgen/diabetes2/users/ryank/pipeline/known_associations/loamstream/fasting_glucose/MAGIC/gwas_loci.EUR.hild.expanded
            varId = id
            effectAllele = effect_allele
            otherAllele = other_allele
            effect = effect
            stdErr = stderr
            pVal = p
            pop = EUR
            n = 133010
            desc = "2012 Nature Genetics paper by Scott et al"
            tag = Scott2012
            citation = "Scott RA, et al. Large-scale association analyses identify new loci influencing glycemic traits and provide insight into the underlying biological pathways. Nat Genet. 2012 Sep;44(9):991-1005. doi: 10.1038/ng.2385. Epub 2012 Aug 12"
          }
        ]
      }
      {
        phenoName = INS_FAST
        phenoLongName = "Fasting Insulin"
        trans = "invn"
        tests = [lm]
        covars = ["Age","Age+BMI"]
        ancestryKeep = EUR
        knownLoci = [
          {
            test = lm
            covars = "Age+BMI"
            data = /humgen/diabetes2/users/ryank/pipeline/known_associations/loamstream/fasting_insulin/MAGIC/gwas_loci.genes.tsv
            hiLd = /humgen/diabetes2/users/ryank/pipeline/known_associations/loamstream/fasting_insulin/MAGIC/gwas_loci.EUR.hild.expanded
            varId = id
            effectAllele = effect_allele
            otherAllele = other_allele
            effect = effect
            stdErr = stderr
            pVal = p
            pop = EUR
            n = 108557
            desc = "2012 Nature Genetics paper by Scott et al"
            tag = Scott2012
            citation = "Scott RA, et al. Large-scale association analyses identify new loci influencing glycemic traits and provide insight into the underlying biological pathways. Nat Genet. 2012 Sep;44(9):991-1005. doi: 10.1038/ng.2385. Epub 2012 Aug 12"
          }
        ]
      }
    ]
  }
]
